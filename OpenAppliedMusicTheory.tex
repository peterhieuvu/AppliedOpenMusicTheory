\documentclass[12pt]{book}
    \usepackage[utf8]{inputenc}
    \usepackage[margin=1in]{geometry}
    \usepackage[english]{babel}
    \usepackage{subfiles}
    \usepackage{xr}
        \externaldocument{o-chapter0}
    \usepackage{fancyhdr}
    \usepackage{titlesec}
    \usepackage{parskip}
    \usepackage{cleveref}

\title{Open Applied Music Theory}
\author{Peter Hieu Vu}
\date{Latest Update: \today}

%Make chapters only clear one page (no blank pages after chapters)
\let\cleardoublepage\clearpage

\renewcommand{\theequation}{\thechapter.\arabic{equation}}

\newcommand\sfchapter[2]{\onlyinsubfile{\setcounter{chapter}{\the\numexpr#2-1\relax}\chapter{#1}}}
\newcommand\sffront[1]{\onlyinsubfile{\chapter*{#1}}}

\pagestyle{fancy}
\setlength{\headheight}{10pt}

\rhead{Chapter\ \thechapter}

%Format Chapter Titles
\titleformat{\chapter}[display]{\normalfont\small\bfseries}{\rule{\textwidth}{1pt}\\\chaptertitlename\ \thechapter}{10pt}{\Huge}
\titlespacing{\chapter}{0pt}{50pt}{30pt} %left, above title, below title

\titleformat{name=\chapter,numberless}[display]  {\normalfont\small\bfseries}{\rule{\textwidth}{1pt}}{10pt}{\Huge}
\titlespacing*{\chapter}{0pt}{50pt}{30pt}


% Commands
\newcommand\onlyinsubfile[1]{#1}
\newcommand\notinsubfile[1]{}

\newcommand\chord[1]{\textbf{#1}} %temporary, probably change later
\newcommand\nref[1]{\S-\ref{#1}/\pageref{#1}}
\newcommand\pref[2]{\S-#1/#2}
% end

\begin{document}
    \renewcommand{\onlyinsubfile}[1]{}
    \renewcommand{\notinsubfile}[1]{#1}

    \maketitle

    \frontmatter
    \chapter{Preface}\label{preface}
        \subfile{chapters/preface}

    \chapter{About}\label{about}
        \subfile{chapters/about}

    \tableofcontents

    \chapter{Disclaimer}\label{disclaimer}
        \subfile{chapters/disclaimer}

    \mainmatter 
    \setcounter{chapter}{-1}
    
    \chapter{Meta}\label{ch.0}
        \subfile{chapters/chapter0}

    \chapter{The basics}\label{ch.1}
        \subfile{chapters/chapter1}

\end{document}